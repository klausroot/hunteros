     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdt_idt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_init_palette
     9 00000000                                 	EXTERN	_init_screen
    10 00000000                                 	EXTERN	_draw_ascii_font8
    11 00000000                                 	EXTERN	_sprintf
    12 00000000                                 	EXTERN	_init_mouse_cursor8
    13 00000000                                 	EXTERN	_draw_block8_8
    14 00000000                                 	EXTERN	_outb
    15 00000000                                 	EXTERN	_cpu_hlt
    16 00000000                                 [FILE "bootpack.c"]
    17                                          [SECTION .data]
    18 00000000                                 LC0:
    19 00000000 48 75 6E 74 65 72 20 4F 53 20   	DB	"Hunter OS -- V1.0",0x00
       0000000A 2D 2D 20 56 31 2E 30 00 
    20 00000012                                 LC1:
    21 00000012 2D 2D 20 43 72 65 61 74 65 20   	DB	"-- Create by lichao.",0x00
       0000001C 62 79 20 6C 69 63 68 61 6F 2E 
       00000026 00 
    22 00000027                                 LC2:
    23 00000027 53 63 72 65 65 6E 20 73 69 7A   	DB	"Screen size : %d x %d.",0x00
       00000031 65 20 3A 20 25 64 20 78 20 25 
       0000003B 64 2E 00 
    24                                          [SECTION .text]
    25 00000000                                 	GLOBAL	_os_entry
    26 00000000                                 _os_entry:
    27 00000000 55                              	PUSH	EBP
    28 00000001 89 E5                           	MOV	EBP,ESP
    29 00000003 53                              	PUSH	EBX
    30 00000004 81 EC 00000140                  	SUB	ESP,320
    31 0000000A 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
    32 0000000D E8 [00000000]                   	CALL	_init_gdt_idt
    33 00000012 E8 [00000000]                   	CALL	_init_pic
    34 00000017 E8 [00000000]                   	CALL	_init_palette
    35 0000001C 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    36 00000023 50                              	PUSH	EAX
    37 00000024 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    38 0000002B 50                              	PUSH	EAX
    39 0000002C FF 35 00000FF8                  	PUSH	DWORD [4088]
    40 00000032 E8 [00000000]                   	CALL	_init_screen
    41 00000037 68 [00000000]                   	PUSH	LC0
    42 0000003C 6A 07                           	PUSH	7
    43 0000003E 6A 23                           	PUSH	35
    44 00000040 6A 05                           	PUSH	5
    45 00000042 E8 [00000000]                   	CALL	_draw_ascii_font8
    46 00000047 68 [00000012]                   	PUSH	LC1
    47 0000004C 6A 07                           	PUSH	7
    48 0000004E 6A 36                           	PUSH	54
    49 00000050 6A 05                           	PUSH	5
    50 00000052 E8 [00000000]                   	CALL	_draw_ascii_font8
    51 00000057 83 C4 2C                        	ADD	ESP,44
    52 0000005A 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    53 00000061 50                              	PUSH	EAX
    54 00000062 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    55 00000069 50                              	PUSH	EAX
    56 0000006A 68 [00000027]                   	PUSH	LC2
    57 0000006F 53                              	PUSH	EBX
    58 00000070 E8 [00000000]                   	CALL	_sprintf
    59 00000075 53                              	PUSH	EBX
    60 00000076 6A 07                           	PUSH	7
    61 00000078 8D 9D FFFFFEBC                  	LEA	EBX,DWORD [-324+EBP]
    62 0000007E 6A 49                           	PUSH	73
    63 00000080 6A 05                           	PUSH	5
    64 00000082 E8 [00000000]                   	CALL	_draw_ascii_font8
    65 00000087 83 C4 20                        	ADD	ESP,32
    66 0000008A 6A 0E                           	PUSH	14
    67 0000008C 53                              	PUSH	EBX
    68 0000008D E8 [00000000]                   	CALL	_init_mouse_cursor8
    69 00000092 6A 10                           	PUSH	16
    70 00000094 53                              	PUSH	EBX
    71 00000095 68 00000098                     	PUSH	152
    72 0000009A 68 00000096                     	PUSH	150
    73 0000009F 6A 10                           	PUSH	16
    74 000000A1 6A 10                           	PUSH	16
    75 000000A3 E8 [00000000]                   	CALL	_draw_block8_8
    76 000000A8 83 C4 20                        	ADD	ESP,32
    77 000000AB 68 000000F9                     	PUSH	249
    78 000000B0 6A 21                           	PUSH	33
    79 000000B2 E8 [00000000]                   	CALL	_outb
    80 000000B7 68 000000EF                     	PUSH	239
    81 000000BC 68 000000A1                     	PUSH	161
    82 000000C1 E8 [00000000]                   	CALL	_outb
    83 000000C6 83 C4 10                        	ADD	ESP,16
    84 000000C9                                 L5:
    85 000000C9 E8 [00000000]                   	CALL	_cpu_hlt
    86 000000CE EB F9                           	JMP	L5
