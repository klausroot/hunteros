     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_fifo_head
     7 00000000                                 	EXTERN	_strcmp
     8 00000000                                 [FILE "fifo.c"]
     9                                          [SECTION .data]
    10 00000000                                 	ALIGNB	4
    11 00000000                                 _fifo_head:
    12 00000000 [00000000]                      	DD	_fifo_head
    13 00000004 [00000000]                      	DD	_fifo_head
    14                                          [SECTION .text]
    15 00000000                                 	GLOBAL	_put_bdata_fifo
    16 00000000                                 _put_bdata_fifo:
    17 00000000 55                              	PUSH	EBP
    18 00000001 89 E5                           	MOV	EBP,ESP
    19 00000003 56                              	PUSH	ESI
    20 00000004 53                              	PUSH	EBX
    21 00000005 53                              	PUSH	EBX
    22 00000006 8A 45 08                        	MOV	AL,BYTE [8+EBP]
    23 00000009 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
    24 0000000C 88 45 F7                        	MOV	BYTE [-9+EBP],AL
    25 0000000F A1 [00000000]                   	MOV	EAX,DWORD [_fifo_head]
    26 00000014 3D [00000000]                   	CMP	EAX,_fifo_head
    27 00000019 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
    28 0000001F 74 21                           	JE	L11
    29 00000021                                 L9:
    30 00000021 56                              	PUSH	ESI
    31 00000022 FF 33                           	PUSH	DWORD [EBX]
    32 00000024 E8 [00000000]                   	CALL	_strcmp
    33 00000029 5A                              	POP	EDX
    34 0000002A 59                              	POP	ECX
    35 0000002B 85 C0                           	TEST	EAX,EAX
    36 0000002D 74 1F                           	JE	L12
    37 0000002F 8B 83 00000098                  	MOV	EAX,DWORD [152+EBX]
    38 00000035 3D [00000000]                   	CMP	EAX,_fifo_head
    39 0000003A 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
    40 00000040 75 DF                           	JNE	L9
    41 00000042                                 L11:
    42 00000042 B8 FFFFFFFE                     	MOV	EAX,-2
    43 00000047                                 L1:
    44 00000047 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    45 0000004A 5B                              	POP	EBX
    46 0000004B 5E                              	POP	ESI
    47 0000004C 5D                              	POP	EBP
    48 0000004D C3                              	RET
    49 0000004E                                 L12:
    50 0000004E 8B 53 10                        	MOV	EDX,DWORD [16+EBX]
    51 00000051 85 D2                           	TEST	EDX,EDX
    52 00000053 75 09                           	JNE	L7
    53 00000055 83 4B 14 01                     	OR	DWORD [20+EBX],1
    54 00000059 83 C8 FF                        	OR	EAX,-1
    55 0000005C EB E9                           	JMP	L1
    56 0000005E                                 L7:
    57 0000005E 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
    58 00000061 8A 4D F7                        	MOV	CL,BYTE [-9+EBP]
    59 00000064 88 4C 18 18                     	MOV	BYTE [24+EAX+EBX*1],CL
    60 00000068 40                              	INC	EAX
    61 00000069 89 43 08                        	MOV	DWORD [8+EBX],EAX
    62 0000006C 3B 43 0C                        	CMP	EAX,DWORD [12+EBX]
    63 0000006F 7C 07                           	JL	L8
    64 00000071 C7 43 08 00000000               	MOV	DWORD [8+EBX],0
    65 00000078                                 L8:
    66 00000078 8D 42 FF                        	LEA	EAX,DWORD [-1+EDX]
    67 0000007B 89 43 10                        	MOV	DWORD [16+EBX],EAX
    68 0000007E 31 C0                           	XOR	EAX,EAX
    69 00000080 EB C5                           	JMP	L1
    70 00000082                                 	GLOBAL	_get_bdata_fifo
    71 00000082                                 _get_bdata_fifo:
    72 00000082 55                              	PUSH	EBP
    73 00000083 A1 [00000000]                   	MOV	EAX,DWORD [_fifo_head]
    74 00000088 89 E5                           	MOV	EBP,ESP
    75 0000008A 3D [00000000]                   	CMP	EAX,_fifo_head
    76 0000008F 56                              	PUSH	ESI
    77 00000090 53                              	PUSH	EBX
    78 00000091 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
    79 00000094 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
    80 0000009A 74 21                           	JE	L23
    81 0000009C                                 L21:
    82 0000009C 56                              	PUSH	ESI
    83 0000009D FF 33                           	PUSH	DWORD [EBX]
    84 0000009F E8 [00000000]                   	CALL	_strcmp
    85 000000A4 5A                              	POP	EDX
    86 000000A5 59                              	POP	ECX
    87 000000A6 85 C0                           	TEST	EAX,EAX
    88 000000A8 74 1D                           	JE	L24
    89 000000AA 8B 83 00000098                  	MOV	EAX,DWORD [152+EBX]
    90 000000B0 3D [00000000]                   	CMP	EAX,_fifo_head
    91 000000B5 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
    92 000000BB 75 DF                           	JNE	L21
    93 000000BD                                 L23:
    94 000000BD 83 C8 FF                        	OR	EAX,-1
    95 000000C0                                 L13:
    96 000000C0 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    97 000000C3 5B                              	POP	EBX
    98 000000C4 5E                              	POP	ESI
    99 000000C5 5D                              	POP	EBP
   100 000000C6 C3                              	RET
   101 000000C7                                 L24:
   102 000000C7 8B 73 10                        	MOV	ESI,DWORD [16+EBX]
   103 000000CA 8B 53 0C                        	MOV	EDX,DWORD [12+EBX]
   104 000000CD 83 C8 FF                        	OR	EAX,-1
   105 000000D0 39 D6                           	CMP	ESI,EDX
   106 000000D2 74 EC                           	JE	L13
   107 000000D4 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   108 000000D7 0F B6 4C 18 18                  	MOVZX	ECX,BYTE [24+EAX+EBX*1]
   109 000000DC 40                              	INC	EAX
   110 000000DD 89 43 04                        	MOV	DWORD [4+EBX],EAX
   111 000000E0 39 D0                           	CMP	EAX,EDX
   112 000000E2 7C 07                           	JL	L20
   113 000000E4 C7 43 04 00000000               	MOV	DWORD [4+EBX],0
   114 000000EB                                 L20:
   115 000000EB 8D 46 01                        	LEA	EAX,DWORD [1+ESI]
   116 000000EE 89 43 10                        	MOV	DWORD [16+EBX],EAX
   117 000000F1 89 C8                           	MOV	EAX,ECX
   118 000000F3 EB CB                           	JMP	L13
   119 000000F5                                 	GLOBAL	_fifo_status
   120 000000F5                                 _fifo_status:
   121 000000F5 55                              	PUSH	EBP
   122 000000F6 A1 [00000000]                   	MOV	EAX,DWORD [_fifo_head]
   123 000000FB 89 E5                           	MOV	EBP,ESP
   124 000000FD 3D [00000000]                   	CMP	EAX,_fifo_head
   125 00000102 56                              	PUSH	ESI
   126 00000103 53                              	PUSH	EBX
   127 00000104 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   128 00000107 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
   129 0000010D 74 21                           	JE	L33
   130 0000010F                                 L31:
   131 0000010F 56                              	PUSH	ESI
   132 00000110 FF 33                           	PUSH	DWORD [EBX]
   133 00000112 E8 [00000000]                   	CALL	_strcmp
   134 00000117 5A                              	POP	EDX
   135 00000118 59                              	POP	ECX
   136 00000119 85 C0                           	TEST	EAX,EAX
   137 0000011B 74 1C                           	JE	L34
   138 0000011D 8B 83 00000098                  	MOV	EAX,DWORD [152+EBX]
   139 00000123 3D [00000000]                   	CMP	EAX,_fifo_head
   140 00000128 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
   141 0000012E 75 DF                           	JNE	L31
   142 00000130                                 L33:
   143 00000130 31 C0                           	XOR	EAX,EAX
   144 00000132                                 L25:
   145 00000132 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   146 00000135 5B                              	POP	EBX
   147 00000136 5E                              	POP	ESI
   148 00000137 5D                              	POP	EBP
   149 00000138 C3                              	RET
   150 00000139                                 L34:
   151 00000139 8B 43 0C                        	MOV	EAX,DWORD [12+EBX]
   152 0000013C 2B 43 10                        	SUB	EAX,DWORD [16+EBX]
   153 0000013F EB F1                           	JMP	L25
   154 00000141                                 	GLOBAL	_register_fifo
   155 00000141                                 _register_fifo:
   156 00000141 55                              	PUSH	EBP
   157 00000142 89 E5                           	MOV	EBP,ESP
   158 00000144 57                              	PUSH	EDI
   159 00000145 56                              	PUSH	ESI
   160 00000146 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   161 00000149 53                              	PUSH	EBX
   162 0000014A 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   163 0000014D 85 F6                           	TEST	ESI,ESI
   164 0000014F 74 7C                           	JE	L36
   165 00000151 A1 [00000000]                   	MOV	EAX,DWORD [_fifo_head]
   166 00000156 3D [00000000]                   	CMP	EAX,_fifo_head
   167 0000015B 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
   168 00000161 74 21                           	JE	L46
   169 00000163                                 L42:
   170 00000163 57                              	PUSH	EDI
   171 00000164 FF 33                           	PUSH	DWORD [EBX]
   172 00000166 E8 [00000000]                   	CALL	_strcmp
   173 0000016B 5A                              	POP	EDX
   174 0000016C 59                              	POP	ECX
   175 0000016D 85 C0                           	TEST	EAX,EAX
   176 0000016F 74 52                           	JE	L47
   177 00000171 8B 83 00000098                  	MOV	EAX,DWORD [152+EBX]
   178 00000177 3D [00000000]                   	CMP	EAX,_fifo_head
   179 0000017C 8D 98 FFFFFF68                  	LEA	EBX,DWORD [-152+EAX]
   180 00000182 75 DF                           	JNE	L42
   181 00000184                                 L46:
   182 00000184 8D 86 00000098                  	LEA	EAX,DWORD [152+ESI]
   183 0000018A 8B 15 [00000000]                	MOV	EDX,DWORD [_fifo_head]
   184 00000190 89 96 00000098                  	MOV	DWORD [152+ESI],EDX
   185 00000196 89 3E                           	MOV	DWORD [ESI],EDI
   186 00000198 89 42 04                        	MOV	DWORD [4+EDX],EAX
   187 0000019B A3 [00000000]                   	MOV	DWORD [_fifo_head],EAX
   188 000001A0 C7 46 0C 00000080               	MOV	DWORD [12+ESI],128
   189 000001A7 C7 46 08 00000000               	MOV	DWORD [8+ESI],0
   190 000001AE C7 46 04 00000000               	MOV	DWORD [4+ESI],0
   191 000001B5 C7 46 14 00000000               	MOV	DWORD [20+ESI],0
   192 000001BC C7 40 04 [00000000]             	MOV	DWORD [4+EAX],_fifo_head
   193 000001C3                                 L47:
   194 000001C3 31 C0                           	XOR	EAX,EAX
   195 000001C5                                 L35:
   196 000001C5 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   197 000001C8 5B                              	POP	EBX
   198 000001C9 5E                              	POP	ESI
   199 000001CA 5F                              	POP	EDI
   200 000001CB 5D                              	POP	EBP
   201 000001CC C3                              	RET
   202 000001CD                                 L36:
   203 000001CD 83 C8 FF                        	OR	EAX,-1
   204 000001D0 EB F3                           	JMP	L35
